 CA - Experiment 8 - Practical Exercise: Set Up a Jenkins CI Pipeline
 for a Maven Project, Use Ansible to Deploy Artifacts Generated by
 Jenkins.
 This is a detailed, step-by-step guide to set up everything from WSL installation to Jenkins Freestyle Project
 execution with Maven, Ansible, SSH setup (without password), and remote deployment.
 ğŸ¨Step-by-Step Guide: Jenkins + Maven + Ansible CI/CD on
 Windows WSLğŸš€
 ğŸ”¹ Overview
 In this guide, we will: âœ… Install WSL (Ubuntu on Windows) ğŸ§
 âœ… Set up Java, Maven, Git, and Ansible ğŸ› 
 âœ… Configure SSH connection between WSL & Remote Server ğŸ”‘
 âœ… Set up Jenkins (running on Windows) and integrate it with SSH & Ansible ğŸ”—
 âœ… Execute a Jenkins Freestyle Project to deploy JAR files ğŸ¯
 ğŸŸ¢ Step 1: Install WSL (Windows Subsystem for Linux)
 ğŸ“Œ 1.1 Enable WSL
 ó¾ ® Open PowerShell as Administrator and run:
 1 wsl --install
 2
 ó¾ ¯ Reboot your system if required.
 ğŸ“Œ 1.2 Install Ubuntu on WSL
 ó¾ ® Open Microsoft Store and install Ubuntu 22.04 LTS.
 ó¾ ¯ Launch Ubuntu and create a username and password.
 ó¾ ° Update packages inside Ubuntu:
 1 sudo apt update && sudo apt upgrade -y
 2
 ğŸŸ¡
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 105
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 ğŸŸ¡ Step 2: Install Required Tools
 ğŸ“Œ 2.1 Install Java (JDK 17)
 1 sudo apt install openjdk-17-jdk -y
 2 java -version
 3
 âœ… Output should show
 openjdk version "17.0.x"
 ğŸ“Œ 2.2 Install Maven
 1 sudo apt install maven -y
 2 mvn -version
 3
 âœ… Ensure Maven is installed.
 ğŸ“Œ 2.3 Install Git
 1 sudo apt install git -y
 2 git --version
 3
 ğŸ“Œ 2.4 Install Ansible
 1 sudo apt update
 2 sudo apt install ansible -y
 3 ansible --version
 4
 ğŸ”µ Step 3: Set Up SSH Connection (No Password Required)
 ğŸ“Œ 3.1 Generate SSH Key
 Run this inside WSL (Ubuntu):
 1 ssh-keygen -t rsa -b 4096
 2
 âœ… Press Enter for default options.
 Why do we write 4096 ? ssh-keygen -t rsa -b 4096
 The 
4096 in the command:
 1 ssh-keygen -t rsa -b 4096
 2
 specifies the key length in bits.
 ğŸ”¹ Explanation of the Command:
 ssh-keygen â†’ The command to generate an SSH key pair.
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 106
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual-t rsa â†’ Specifies the type of key to generate (
 RSA ).-b 4096 â†’ Specifies the bit length (i.e., key size).
 ğŸ”¹ Why Use 4096 Bits?
 âœ… Stronger Security:
 A 4096-bit key is significantly more secure than the default 2048-bit key.
 It provides better resistance against brute-force attacks.
 âœ… Long-Term Security:
 As computing power increases, longer keys ensure protection for a longer time.
 Many security professionals recommend 4096-bit RSA for high-security environments.
 âœ… SSH Best Practices:
 Modern systems can handle 4096-bit RSA efficiently.
 While 2048-bit is considered secure, 4096-bit provides extra security without much performance loss.
 ğŸ”¹ When Should You Use 2048 Instead of 4096?
 If performance is a concern (e.g., on embedded devices or old systems).
 If you need faster SSH authentication times.
 However, for most servers and personal use, 4096-bit is preferred.
 ğŸ“Œ Conclusion:
 Using 
4096 makes your SSH keys stronger and more future-proof, ensuring better security for your remote
 connections. ğŸš€ğŸ”’
 ğŸ“Œ 3.2 Copy Public Key to Remote Server
 1 ssh-copy-id ronnie@172.27.158.79
 2
 âœ… If prompted, enter the remote user password.
 Finding the IP Address of the Remote Machine! ğŸ›œğŸ’»ğŸ–¥ğŸ‘¨â€ğŸ’»
 The IP address 
172.27.158.79 is the private IP address of your remote machine (where Ansible is
 running). Let's break down how you obtained it:
 ğŸ”¹ How to Find the IP Address of the Remote Machine?
 ğŸ”¸ Method 1: Using 
Since you are running Windows WSL and SSH-ing into a remote Linux machine (or another system), you
 likely found this IP address using one of the following methods:
 ip a or 
ifconfig on the Remote Linux Machine
 ó¾ ® Log in to the remote machine (where Ansible is deployed).
 ó¾ ¯ Run the following command:
 1 ip a
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 107
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 2
 OR
 1 ifconfig
 2
 ó¾ ° Look for an entry under 
eth0 or 
ensXXX (depending on the network interface).
 Example output:
 1 2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group
 default qlen 1000
 2
 3
 inet 172.27.158.79/24 brd 172.27.158.255 scope global dynamic eth0
 Here, 
inet 172.27.158.79 is the IP address of the machine.
 ğŸ”¸ Method 2: Using 
hostname -I
 Run the following command on the remote machine:
 1 hostname -I
 2
 This will return the machine's IP address, such as:
 1 172.27.158.79
 2
 ğŸ”¸ Method 3: Checking IP on WSL (for Windows Machines)
 If you want to find your WSL (Windows Subsystem for Linux) instanceÊ¼s IP, run:
 1 ip route | grep default
 2
 Example output:
 1 default via 192.168.1.1 dev eth0 proto dhcp src 172.27.158.79 metric 100
 2
 Here, 
172.27.158.79 is the WSL machineÊ¼s IP.
 ğŸ”¹ How Was It Used in Jenkins?
 The IP address was used in Jenkins SSH deployment:
 1 scp "C:/Users/Saurav/.jenkins/workspace/Maven-Ansible-Deploy/target/*.jar"
 ronnie@172.27.158.79:/home/ronnie/deployment/
 2 ssh ronnie@172.27.158.79 "ansible-playbook /home/ronnie/ansible-deploy/deploy.yml"
 3
 ronnie@172.27.158.79 means:
 ronnie â†’ The username on the remote machine.
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 108
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 172.27.158.79 â†’ The IP address of the remote machine.
 ğŸ”¹ Why Not Use 
localhost Instead?
 localhost refers to your own system, but your Ansible machine is on a separate system.
 If the remote machine is on the same network, you must use its actual IP address for SSH and SCP.
 ğŸ”¹ What If the IP Changes?
 If your remote machine restarts or reconnects, the IP may change (if it's dynamic).
 ğŸ“Œ To get a static IP, configure a static IP address in the network settings or use a DNS name.
 âœ… Summary:
 The IP address 
hostname -I ).
 172.27.158.79 was obtained by checking the remote machine's network configuration
 (ip a or 
It is used for SSH connection from Jenkins to copy files and run the Ansible playbook.
 If it changes, you can find the new IP using the same commands and update your Jenkins job
 accordingly. ğŸš€
 ğŸ“Œ 3.3 Test SSH Login
 1 ssh ronnie@172.27.158.79
 2
 âœ… If it logs in without asking for a password, SSH is correctly set up.
 ğŸŸ£ Step 4: Install and Configure Jenkins
 ğŸ“Œ 4.1 Install Jenkins on Windows
 ó¾ ® Download Jenkins MSI from 
Jenkins Official Site.
 ó¾ ¯ Install Jenkins and start it as a Windows Service.
 ó¾ ° Open Jenkins Web UI at:
 1 http://localhost:8080
 2
 ğŸ“Œ 4.2 Unlock Jenkins
 ó¾ ® Copy the initial admin password from:
 1 C:\Users\Saurav\.jenkins\secrets\initialAdminPassword
 2
 ó¾ ¯ Paste it into the Jenkins setup page.
 ğŸ“Œ 4.3 Install Required Plugins
 ğŸ”¹ Go to Manage Jenkins â†’ Manage Plugins and install:
 âœ… Maven Integration Plugin
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 109
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 âœ… SSH Agent Plugin
 ğŸŸ  Step 5: Create the Jenkins Freestyle Project
 ğŸ“Œ 5.1 Create a New Job
 ó¾ ® Go to Jenkins Dashboard â†’ New Item
 ó¾ ¯ Select Freestyle Project â†’ Name it Maven-Ansible-Deploy
 ó¾ ° Click OK
 ğŸŸ¢ Step 6: Configure Jenkins Build Steps
 ğŸ“Œ 6.1 Set Up Source Code Management (Git)
 ó¾ ® Under Source Code Management, select Git
 ó¾ ¯ Enter your repository URL:
 1 https://github.com/your-username/MVN-ANS-JEN-CICD.git
 2
 ğŸ“Œ 6.2 Add Maven Build Step
 ó¾ ® Go to Build â†’ Add Build Step â†’ Execute Windows Batch Command
 ó¾ ¯ Paste this command:
 1 cd %WORKSPACE%
 2 mvn clean package
 3
 ğŸ“Œ 6.3 Add SSH Deployment Step
 ó¾ ® Go to Build â†’ Add Build Step â†’ Execute shell script on remote host using SSH
 ó¾ ¯ Set SSH site as:
 1 ronnie@172.27.158.79:22
 2
 ó¾ ° Enter the command to transfer and deploy JAR:
 1 scp "C:/Users/Saurav/.jenkins/workspace/Maven-Ansible-Deploy/target/*.jar"
 ronnie@172.27.158.79:/home/ronnie/deployment/
 2 ssh ronnie@172.27.158.79 "ansible-playbook /home/ronnie/ansible-deploy/deploy.yml"
 3
 âœ… Save the job.
 Steps to add SSHCredentials in Jenkins.
 ğŸ”¹ How to Add SSH in Jenkins for Remote Deployment
 To enable Jenkins to connect to a remote machine via SSH, follow these step-by-step instructions:
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 110
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 ğŸ“Œ Step 1: Install SSH Plugin in Jenkins
 ó¾ ® Open Jenkins (
 http://localhost:8080 ).
 ó¾ ¯ Go to Manage Jenkins â†’ Manage Plugins.
 ó¾ ° Click on the Available tab and search for "SSH Pipeline Steps" or "Publish Over SSH".
 ó¾ ± Select Publish Over SSH and click Install Without Restart.
 ó¾ ² Once installed, go back to the Dashboard.
 ğŸ“Œ Step 2: Add SSH Key to Remote Server (Already done for remote
 machine â„¹)
 Since your Jenkins job runs SSH commands on the remote machine (
 ronnie@172.27.158.79 ), you need to
 add the public key to the remote server.
 ó¾ ® Copy the public key to the remote machine using:
 1 ssh-copy-id ronnie@172.27.158.79
 2
 OR (if 
ssh-copy-id is not installed)
 1 cat ~/.ssh/id_rsa.pub | ssh ronnie@172.27.158.79 "mkdir -p ~/.ssh && cat >>
 ~/.ssh/authorized_keys"
 2
 ó¾ ¯ Verify SSH login without a password:
 1 ssh ronnie@172.27.158.79
 2
 If successful, Jenkins can now SSH into the remote server without needing a password.
 ğŸ“Œ Step 4: Configure SSH in Jenkins (Optional â„¹)
 ó¾ ® Go to Manage Jenkins â†’ Manage Credentials.
 ó¾ ¯ Under Stores scoped to Jenkins, click (global).
 ó¾ ° Click Add Credentials.
 ó¾ ± Choose Kind: SSH Username with Private Key.
 ó¾ ² Set the following:
 Username:
 ronnie
 Private Key: Choose Enter directly, then paste the contents of:
 1 cat ~/.ssh/id_rsa
 2
 Passphrase: Leave it empty. ó¾ ³ Click OK.
 ğŸ“Œ Step 5: Add SSH Host in Jenkins
 ó¾ ® Go to Manage Jenkins â†’ Configure System.
 ó¾ ¯ Scroll down to Publish Over SSH.
 ó¾ ° Click Add under SSH Servers.
 ó¾ ± Fill in the details:
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 111
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 Name:
 RemoteServer
 Hostname:
 172.27.158.79
 Username:
 ronnie
 Remote Directory:
 /home/ronnie/deployment
 Use Password Authentication, or use a different key: Unchecked ó¾ ² Click Test Configuration to verify
 the connection.
 ğŸ“Œ Step 6: Configure Jenkins Job to Use SSH
 ó¾ ® Open your Jenkins Freestyle Job (
 Maven-Ansible-Deploy ).
 ó¾ ¯ Click Configure.
 ó¾ ° Under Build Steps, add:
 Execute shell script on remote host using SSH.
 ó¾ ± Enter the SSH command to copy and deploy the JAR file:
 ó¾ ² Click Save.
 ğŸ“Œ Step 7: Test the Setup
 Copy the 
1 scp "C:/Users/Saurav/.jenkins/workspace/Maven-Ansible-Deploy/target/*.jar"
 ronnie@172.27.158.79:/home/ronnie/deployment/
 2 ssh ronnie@172.27.158.79 "ansible-playbook /home/ronnie/ansible-deploy/deploy.yml"
 3
 ó¾ ® Run the Jenkins job.
 ó¾ ¯ Check the Console Output for SSH connection success.
 ó¾ ° If everything works, Jenkins should:
 .jar file via SCP.
 Trigger the Ansible playbook to deploy the application.
 âœ… Done! ğŸ‰ Your Jenkins pipeline now connects to the remote server over SSH for deployment. ğŸš€
 ğŸ”µ Step 7: Create Ansible Playbook for Deployment
 ğŸ“Œ 7.1 Create Deployment Directory
 On the remote server, run:
 1 mkdir -p /home/ronnie/deployment
 2
 The -p option in the 
mkdir command stands for "parents", and it ensures that:
 âœ… If the parent directories in the given path do not exist, they will be created automatically.
 âœ… If the directory already exists, no error will be thrown.
 Example:
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 112
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 1 mkdir -p /home/ronnie/deployment
 2
 ğŸ”¹ If 
/home/ronnie already exists, only 
ï¿½
ï¿½ If neither 
/home/ronnie nor 
ï¿½
ï¿½ If 
deployment will be created.
 deployment exists, both will be created.
 deployment already exists, the command does nothing (no error).
 This is useful to avoid errors when creating directories in scripts or automation! ğŸš€
 ğŸ“Œ 7.2 Write Ansible Playbook
 ó¾ ® Create the playbook:
 1 nano /home/ronnie/ansible-deploy/deploy.yml
 2
 ó¾ ¯ Paste the following YAML script:
 1--
2- hosts: localhost
 3
 4
 5
 6
 7
 8
 9
 10
 11
 12
 13
 14
 tasks:- name: Ensure deployment directory exists
 file:
 path: /home/ronnie/deployment
 state: directory
 mode: '0755'- name: Copy the JAR file to the deployment folder
 copy:
 src: /home/ronnie/deployment/*.jar
 dest: /home/ronnie/deployment/
 ó¾ ° Save and Exit (
 CTRL + X, then Y, then 
ï¿½
ï¿½ 7.3 Test Ansible Playbook
 Enter ).
 1 ansible-playbook /home/ronnie/ansible-deploy/deploy.yml
 2
 ğŸŸ£ Step 8: Run the Jenkins Build ğŸš€
 ó¾ ® Go to Jenkins Dashboard â†’ Maven-Ansible-Deploy
 ó¾ ¯ Click Build Now â–¶
 ó¾ ° Jenkins will: âœ… Clone your GitHub repo
 âœ… Build the Maven project
 âœ… Deploy the JAR file using SSH & Ansible
 ó¾ ± Check remote deployment:
 1 ls -l /home/ronnie/deployment
 2
 âœ… You should see the JAR file inside 
/home/ronnie/deployment/ !
 ğŸ‰
 ğŸ“º www.youtube.com/c/codersarcade
 ğŸ†
 Â©2025 Coders Arcade V2.0
 113
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarkar
Coders Arcade
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 DevOps Lab Manual
 ğŸ‰Congratulations! You've Successfully Set Up CI/CD!ğŸ†
 âœ… WSL, Maven, Git, and Ansible installed
 âœ… SSH connection configured (passwordless login)
 âœ… Jenkins job triggers SSH deployment using Ansible
 âœ… Fully automated CI/CD pipeline is up & running ğŸš€
 ğŸ”µ Additional ResourcesğŸ“š
 ğŸ”¹ Jenkins Documentation:
 Jenkins User Documentation
 ğŸ”¹ Maven Documentation:
 Official Maven Documentation
 ğŸ”¹ Ansible Documentation:
 Ansible Official Documentation
 ğŸš€ All the best! Happy DevOps-ing! ğŸ§‘â€ğŸ’»ğŸ”¥
 ğŸ“º www.youtube.com/c/codersarcade
 Â©2025 Coders Arcade V2.0
 114
 ğŸ§‘
 â€
 ğŸ’» Saurav Sarka